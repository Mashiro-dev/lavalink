version: "3.8"

services:
  lavalink:
    image: mashiro-dev/lavalink:latest
    container_name: lavalink
    environment:
      SERVER_PORT: 2333
      SERVER_ADDRESS: 127.0.0.1
      LAVALINK_SERVER_PASSWORD: "youshallnotpass"
      LAVALINK_SERVER_SOURCES_YOUTUBE: "true"
      LAVALINK_SERVER_SOURCES_BANDCAMP: "true"
      LAVALINK_SERVER_SOURCES_SOUNDCLOUD: "true"
      LAVALINK_SERVER_SOURCES_TWITCH: "true"
      LAVALINK_SERVER_SOURCES_VIMEO: "true"
      LAVALINK_SERVER_SOURCES_HTTP: "true"
      LAVALINK_SERVER_SOURCES_LOCAL: "true"
      LAVALINK_SERVER_BUFFER_DURATION_MS: 400
      LAVALINK_SERVER_FRAME_BUFFER_DURATIONS_MS: 5000
      LAVALINK_SERVER_TRACK_STRUCK_THRESHOLD_MS: 10000
      LAVALINK_SERVER_YOUTUBE_PLAYLIST_LOAD_LIMIT: 6
      LAVALINK_SERVER_PLAYER_UPDATE_INTERVAL: 5
      LAVALINK_SERVER_YOUTUBE_SEARCH_ENABLED: "true"
      LAVALINK_SERVER_SOUNDCLOUD_SEARCH_ENABLED: "true"
      #LAVALINK_SERVER_YOUTUBE_CONFIG_EMAIL:
      #LAVALINK_SERVER_YOUTUBE_CONFIG_PASSWORD:
      LAVALINK_SERVER_SENTRY_DSN: ""
    restart: on-failure
